#NoEnv
#include WrapperAbstrctFunction.ahk

; config := readConfig( "retroarch.cfg" )
; writeConfig( "retroarch.cfg.bbb", config )

; ExitApp

imageDirPath := %0%
imageDirPath := "\\NAS\emul\image\DreamCast\Virtua Fighter 3tb (en)"

global option := getOption( imageDirPath )
; core   := nvl( option.run.core, "redream_libretro" )
core   := nvl( option.run.core,   "reicast_libretro" )
filter := nvl( option.run.filter, "chd" )

modifyConfigCore( setCoreConfig )

debug( core )
debug( filter )

imageFilePath := getRomPath( imageDirPath, option, filter, false )

runRomEmulator( imageFilePath, core )

ExitApp

setCoreConfig( config ) {
	config.reicast_cable_type := nvl( option.run.cableType, "VGA (RGB)" )
}


#include %A_ScriptDir%\WrapperAbstrctHotkey.ahk